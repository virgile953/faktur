import{j as e,r as n}from"./index-CKBIMJ8Q.js";import{F as m,a as p}from"./TrashIcon-BVHTyowk.js";import{a as f,u as h}from"./components-DqBg-pzF.js";function j({data:l,selectedFilament:r,setSelectedFilament:a}){return e.jsx("div",{className:"flex flex-row gap-0 overflow-x-auto relative w-full max-w-7xl mx-auto",children:l.map((i,c)=>e.jsxs("div",{className:`flex flex-row m-2 min-w-72 border border-gray-700 
										rounded-xl relative cursor-pointer
										${r===i?"bg-gray-900":""}`,onClick:()=>a(i),children:[e.jsx("img",{src:i.image,className:"h-24 w-24 rounded-s-xl",alt:i.name}),e.jsxs("div",{className:"flex flex-col p-2 text-sm justify-between relative w-full overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 text-xs font-bold px-2 py-1 border-l border-b border-gray-700 rounded-bl",children:i.price+" €"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{children:i.brand}),e.jsx("div",{children:i.material}),e.jsx("div",{children:i.name})]}),e.jsx("div",{className:"text-xs",children:"coucou Options"})]})]},c))})}function v({selectedFilament:l,setNewFilament:r}){return l?e.jsxs("div",{className:"grid grid-cols-3 justify-between m-4 rounded-xl border border-gray-700 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"w-full p-2 col-span-2",children:[e.jsxs("div",{className:"flex flex-row justify-between mr-2",children:[e.jsx("div",{children:l.name}),e.jsx("div",{children:l.price+" €"})]}),e.jsxs("ul",{className:"p-2 text-xs",children:[e.jsx("h1",{className:"text-base text-justify",children:"Description:"}),l.description]})]}),e.jsxs("div",{children:[e.jsx("img",{src:l.image,alt:l.name,className:"h-full w-full rounded-r-xl object-cover col-span-1"}),e.jsxs("div",{className:"col-span-2 relative -inset-y-12 -inset-x-4 flex justify-end gap-4 ",children:[e.jsxs("button",{className:"bg-gray-800 py-2 px-4 rounded-lg flex flex-row gap-2",onClick:()=>r(l),children:[e.jsx(m,{height:24}),"Edit"]}),e.jsxs("form",{method:"post",children:[e.jsx("input",{type:"hidden",name:"_action",value:"delete"}),e.jsx("input",{type:"hidden",name:"filamentId",value:l.id}),e.jsxs("button",{type:"submit",className:"bg-red-800 py-2 px-4 rounded-lg flex flex-row gap-2",children:[e.jsx(p,{height:24}),"Delete"]})]})]})]})]}):e.jsx("div",{children:"coucou"})}function b({newFilament:l,setNewFilament:r}){return e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"grid grid-cols-10 gap-4",children:[e.jsxs("label",{className:"flex flex-col gap-1 col-span-7",children:["Name",e.jsx("input",{className:"bg-gray-900 rounded-lg pl-2 p-1",value:l.name||"",onChange:a=>r({...l,name:a.target.value})})]}),e.jsxs("label",{className:"flex flex-col gap-1 col-span-3",children:["Price",e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsx("input",{className:"bg-gray-900 rounded-lg pl-2 p-1 w-full",value:l.price||0,type:"number",onChange:a=>r({...l,price:Number(a.target.value)})}),e.jsx("span",{className:"ml-2",children:"€"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex flex-col gap-1",children:["Brand",e.jsx("input",{className:"bg-gray-900 rounded-lg pl-2 p-1",value:l.brand||"",onChange:a=>r({...l,brand:a.target.value})})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:["Material",e.jsx("input",{className:"bg-gray-900 rounded-lg pl-2 p-1",value:l.material||"",onChange:a=>r({...l,material:a.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex flex-col gap-1",children:["Color",e.jsx("input",{className:"bg-gray-900 rounded-lg pl-2 p-1",value:l.color||"",onChange:a=>r({...l,color:a.target.value})})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:["Image",e.jsx("input",{className:"bg-gray-900 rounded-lg pl-2 p-1",value:l.image||"",onChange:a=>r({...l,image:a.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxs("label",{className:"flex flex-col gap-1 col-span-3",children:["Quantity",e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("input",{className:"bg-gray-900 rounded-lg pl-2 p-1 w-full",type:"number",value:l.quantity||"",onChange:a=>r({...l,quantity:Number(a.target.value)})}),e.jsx("span",{className:"-ml-10 mt-1",children:l.unit})]})]}),e.jsxs("label",{className:"flex flex-col gap-1 col-span-2",children:["Unit",e.jsxs("select",{className:"bg-gray-900 rounded-lg pl-2 p-1",value:l.unit,onChange:a=>r({...l,unit:a.target.value}),children:[e.jsx("option",{value:"g",children:"grams"}),e.jsx("option",{value:"ml",children:"milliliters"})]})]})]})]})}const t={id:void 0,brand:"",color:"",description:"",image:"",material:"",name:"",price:0,quantity:0,unit:"ml"};function N({initialFilaments:l}){const[r,a]=n.useState(l),[i,c]=n.useState(l[0]),[s,d]=n.useState(t),o=f();function x(){if(!s.name||!s.image||s.price<=0){console.log("Please fill in all required fields with valid values.");return}o({filamentData:JSON.stringify(s),_action:"create"},{method:"post",encType:"multipart/form-data"}),a([...r,{...s,id:Date.now()}]),d(t)}function u(){if(!s.name||!s.image||s.price<=0){console.log("Please fill in all required fields with valid values.");return}o({filamentData:JSON.stringify(s),_action:"update"},{method:"put",encType:"multipart/form-data"}),d(t)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-[130px] h-[calc(100vh-130px)] max-w-7xl mx-auto",children:[e.jsx(j,{data:r,selectedFilament:i,setSelectedFilament:c}),e.jsx(v,{selectedFilament:i,setNewFilament:d}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 border border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("h1",{className:"text-xl mb-4",children:[s.id==null?"Add":"Update"," a Filament"]}),e.jsx(b,{newFilament:s,setNewFilament:d})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.image?e.jsx("img",{src:s.image,alt:"Filament preview",className:"h-64 w-full rounded-lg object-cover border border-gray-700"}):e.jsx("div",{className:"h-64 w-full rounded-lg border border-gray-700 flex items-center justify-center text-gray-500",children:"Filament image preview"}),e.jsxs("label",{className:"flex flex-col gap-1 w-full",children:["Description",e.jsx("textarea",{className:"bg-gray-900 min-h-32 rounded-lg pl-2 p-1 resize-none",value:s.description||"",onChange:g=>d({...s,description:g.target.value})})]})]}),e.jsx("button",{className:"max-w-24 p-2  bg-gray-900 rounded-lg border border-gray-700",onClick:()=>s.id==null?x():u(),children:s.id==null?"Add":"Update"})]})]})})}const D=()=>[{title:"Filaments"},{name:"Filaments",content:"List of configured filaments"}];function S(){const{filaments:l}=h();return e.jsx(N,{initialFilaments:l})}export{S as default,D as meta};
